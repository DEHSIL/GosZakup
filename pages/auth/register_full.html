<!DOCTYPE html>
<html lang="ru"><head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <style>body {transition: opacity ease-in 0.2s; } 
body[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } 
</style>
    <script src="../../js/inner.js"></script>

    <title>Портал государственных закупок Республики Казахстан</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="robots" content="noindex">
    <link rel="shortcut icon" href="https://v3bl.goszakup.gov.kz/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="57x57" href="https://v3bl.goszakup.gov.kz/images/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="https://v3bl.goszakup.gov.kz/images/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="https://v3bl.goszakup.gov.kz/images/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="https://v3bl.goszakup.gov.kz/images/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="https://v3bl.goszakup.gov.kz/images/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="https://v3bl.goszakup.gov.kz/images/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="https://v3bl.goszakup.gov.kz/images/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="https://v3bl.goszakup.gov.kz/images/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="https://v3bl.goszakup.gov.kz/images/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="https://v3bl.goszakup.gov.kz/images/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://v3bl.goszakup.gov.kz/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="https://v3bl.goszakup.gov.kz/images/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://v3bl.goszakup.gov.kz/images/favicon/favicon-16x16.png">
    <link href="style/bootstrap.min.css" rel="stylesheet">
    <link href="style/all.min.css" rel="stylesheet">
    <link href="style/style.css" rel="stylesheet">
    <link href="style/datepicker.css" rel="stylesheet">
    <link href="style/upload.css" rel="stylesheet">

    <script src="../../js/jquery.js"></script>
    <script src="../../js/bootstrap.min.js"></script>
    <script src="../../js/confirmation.js"></script>
    
    
    <script type="text/javascript" src="../../js/bootstrap.datepicker.js" charset="utf-8"></script>
    <script type="text/javascript" src="../../js/bootstrap-datepicker.ru.js" charset="utf-8"></script>
    <script type="text/javascript" src="../../js/helpers.js" charset="utf-8"></script>
    <!-- <script type="text/javascript" src="src/user.js.загрузка" charset="utf-8"></script> -->
    <script type="text/javascript" src="../../js/bootstrap-filestyle.min.js" charset="utf-8"></script>
    <!-- <script type="text/javascript" src="src/upload.js.загрузка" charset="utf-8"></script> -->
    <script type="text/javascript" src="../../js/jquery.blockUI.js" charset="utf-8"></script>

  <!--  <script>
            var user_id = 0;
            window.lang_key = "ru";
            window.current_controller_url = "https://v3bl.goszakup.gov.kz/ru/user";
            
            window.current_directory = "";
            window.current_controller = "user";
            window.current_method = "registration";

            window.url_params = [];
            ; var lang = 'ru'; var controller = 'user';   
    </script> -->
</head>
<body >

<!-- BEGIN WRAP -->
<div class="wrap">
    <!-- BEGIN NAVBAR -->
    <div id="navbar-main" class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-nav">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand big-screen-element" href="pages/auth/ecp.html">АИИС ЭГЗ</a>
            </div>
            <div id="main-nav" class="navbar-collapse collapse">
                                <ul class="nav navbar-nav"><li><a href="index.html">Главная</a></li><li><a href="">Справка</a></li></ul>
                <ul class="nav navbar-nav navbar-right">
                <li><a href="">Қаз</a></li>
                <li><a href="">Рус</a></li>
              <li>
                       <a id="user-login" href=""> Войти</a>
                     </li></ul>
                <ul id="navbar-notice" class="nav navbar-nav navbar-right"></ul>
            </div>
        </div>
    </div>
    <!-- END NAVBAR -->

    <!-- BEGIN CONTAINER -->
    <div class="container-full">
        <div class="alert alert-danger" id="offline-message">
            <strong>Внимание!</strong> Соединение с приложением прервано. Пожалуйста, авторизуйтесь заново.
        </div>
        
        
        
        
        
        <div id="loading" class="alert alert-info" style="display: none">Подождите, идет загрузка данных</div>
        
        
                        <div class="content-block">
<div class="container">
    <h2>Регистрация пользователя</h2>
    <!--
    <div class="progress">
        <div class="progress-bar" role="progressbar" id="user_progressbar"
             aria-valuenow="33" aria-valuemin="0"
             aria-valuemax="100" style="width: 33%;">
            <span>33%</span>
        </div>
    </div>
    -->
    <div class="panel panel-info">
        <div class="panel-heading">
            <b>Запрос данных в инис по данным сертификата</b>
        </div>
        <div class="panel-body">
            <div class="panel-body row">
                <div class="col-sm-3">
                    <button class="btn btn-primary" id="sendRequest" onclick="">
                        Получить данные                    </button>
                </div>
                <div class="col-sm-9">
                                            <input type="text" class="form-control" id="iin" value="980207450279" readonly="" wfd-id="id0">
                                    </div>
            </div>
            <div class="panel-body row">
                <div class="col-sm-3">
                    <a href="pages/auth/ecp.html">
                        Выбрать другой сертификат                    </a>
                </div>
            </div>
        </div>
    </div>
    <br>

    <div id="requestResult"><div class="panel panel-info">
    <div class="panel-heading">
        <b>Данные сервиса ИСНА</b>
    </div>
    <form action="" method="post" accept-charset="utf-8" id="frm_agr_sign">    <div class="panel-body form-horizontal">
        <div class="form-group">
            <label class="col-sm-2  control-label">ИИН</label>

            <div class="col-sm-10">
                <input type="text" class="form-control" name="iin" id="iin" value="998723650279" readonly="">
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label">ФИО</label>

            <div class="col-sm-10">
                <input type="text" class="form-control" value="ФАМИЛИЯ ИМЯ ОТЧЕСТВО" readonly="">
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label">Дата рождения</label>

            <div class="col-sm-10">
                <input type="text" class="form-control" id="birthday" value="1998-02-07" readonly="">
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label">Электронная почта</label>

            <div class="col-sm-10">
                <input type="email" class="form-control" name="email" id="email" value="">
            </div>
        </div>

        <!-- Пользовательсткое соглашение -->
        <div class="form-group">
            <label class="col-sm-2 control-label">Пользовательсткое соглашение</label>

            <div class="col-sm-10">
                <textarea class="form-control" rows="15" readonly="">СОГЛАШЕНИЕ

об использовании веб-портала государственных закупок Пользователем

1. Общие положения

1.1. Веб-портал государственных закупок  «GOSZAKUP.GOV.KZ» (далее – Портал) - государственная информационная система, предоставляющая единую точку доступа к электронным услугам электронных государственных закупок.

1.2. Владелец Портала (далее – Владелец) - Министерство финансов Республики Казахстан, осуществляющее регулирование системы государственных закупок.

1.3. Пользователь - любое физическое лицо,  зарегистрировавшееся на Портале и пользующееся Порталом.

1.4. Администратор Портала (далее – Администратор) - АО «Центр электронной коммерции», уполномоченное осуществлять реализацию единой технической политики в сфере электронных государственных закупок, размещение и обмен информации на Портале. 

1.5. Термины и определения, используемые в настоящем Соглашении, трактуются в соответствии с действующим законодательством Республики Казахстан.



2. Предмет Соглашения

2.1. Настоящее Пользовательское соглашение (далее - Соглашение) заключено между Владельцем, Пользователем и Администратором для урегулирования взаимоотношений по пользованию и оказанию электронных государственных услуг  на Портале.

2.2. Данное Соглашение может быть изменено Владельцем и Администратором по согласованию с Владельцем в одностороннем порядке без согласия на то Пользователя. При этом Владелец и/или Администратор должны известить Пользователя о внесенных в Соглашение изменениях и/или дополнениях путем публикации на соответствующего  уведомления на странице Портала.



3. Права и обязанности Пользователя

3.1. Пользователь вправе:

3.1.1. получать консультационную и практическую помощь от Администратора в области пользования Порталом;

3.1.2. получать методические рекомендации от Владельца в области государственных закупок.

3.2.  Пользователь обязуется:

3.2.1. предоставить Владельцу и Администратору  точную и полную информацию по пунктам, предлагаемым в форме регистрации;

3.2.2. не выдавать себя за другое  физическое лицо;

3.2.3. хранить свой пароль в тайне;

3.2.4. не нарушать умышленно или случайно какие-либо действующие государственные или международные законы;

3.2.5. не размещать на Портале:

1) информацию, которую Пользователь не имеет права делать публичной по закону или согласно каким-либо договорным отношениям; 

2) информацию, нарушающую действующее законодательство, честь и достоинство, права и охраняемые законом интересы третьих лиц;

3) информацию, которая нарушает авторские и/или смежные права собственности; 

4) информацию оскорбительного содержания, а также пропагандирующую дискриминацию людей по какому-либо признаку, насилие, ненависть; 

5) информацию и/или ссылки на материалы, содержащие вирусы или другое вредоносное программное обеспечение.



4.Права и обязанности Владельца

4.1. Владелец вправе:

4.1.1.запрашивать и получать необходимую информацию от Пользователя в порядке определенном законодательством Республики Казахстан о государственных закупках;

4.1.2. проверять достоверность отчетных данных, материалов и информации, представленных Пользователем на Портале.

           4.2. Владелец обязуется:

4.2.1. определять порядок оказания электронных услуг субъектам системы государственных закупок и другим заинтересованным лицам;

4.2.2. оказывать методологическое руководство в области государственных закупок.



5. Права и обязанности Администратора

5.1. Администратор вправе:

5.1.1. в случае нарушения Пользователем условий настоящего Соглашения отказать в регистрации Пользователю, удалить или блокировать учетную запись Пользователя .

5.2. Администратор обязуется:

5.2.1. обеспечить функционирование и техническое сопровождение Портала;

5.2.2.  оказывать консультационную и практическую помощь Пользователю по пользованию Порталом



6. Вступление Соглашения в силу

6.1. Соглашение вступает в силу после регистрации Пользователя на Портале.

6.2. Регистрация выполняется путем заполнения формы регистрации пользователя,   выражения Пользователем согласия со всеми  условиями настоящего Соглашения, и отправки данных формы регистрации на Портал.



7. Ответственность

7.1. При размещении на Портале любой информации, сведений и материалов Пользователь несет персональную ответственность за содержание размещаемых им материалов, сведений и данных, правомерность их размещения и использования в соответствии с законодательством Республики Казахстан.

7.2. Пользователь несет персональную ответственность за  безопасное хранение своего пароля, а так же за последствия, которые могут произойти при его компрометации.

7.3. Пользователь несет персональную ответственность за своевременное размещение на Портале материалов, информации, сведений, отчетностей, подлежащих обязательному размещению на Портале.

7.4. Владелец, Администратор не несут ответственности за содержание информации, сведений, материалов, размещаемых Пользователем на Портале, их соответствие требованиям законодательства Республики Казахстан, за неправомерные действия Пользователя по использованию информации, сведений и материалов, размещенных на Портале, за нарушение Пользователем авторских прав и любых других прав третьих лиц.

7.5. Администратор  не несет ответственности за технические временные сбои и перерывы в работе Портала, возникшие по независящим от Администратора, Владельца причинам или в случае проведения плановых или внеплановых мероприятий по обслуживанию Портала.

7.6. Владелец и Администратор не несут ответственности за временные сбои и перерывы в работе линий связи, иные аналогичные сбои, а также за неполадки компьютера, с которого Пользователь осуществляет выход в Интернет.

7.7. Владелец и Администратор не несут ответственности перед Пользователем  за действия других Пользователей и любых других участников Портала.

7.8. Владелец и Администратор не несут ответственности за любой прямой, косвенный ущерб, включая упущенную выгоду, ущерб от использования, потерю данных или какие-либо другие нематериальные потери, ущерб репутации и иной ущерб, возникающий вследствие:

7.8.1. пользования или невозможности пользования Порталом;

7.8.2. изменения условий Соглашения;

7.8.3. неуполномоченного доступа к данным Пользователя или изменения передаваемых Пользователем или хранящихся на сервере данных;

7.8.4. любого другого случая, имеющего отношение к оказываемым на Портале услугам.



8. Прочие условия

8.1. Пользователь не возражает в получении и публикации Владельцем дополнительных сведений о себе, содержащихся в государственных и/или негосударственных информационных системах (базах данных) и (или) составляющих банковскую, коммерческую, служебную и/или налоговую тайны. 

8.2. Все претензии, запросы, вопросы, любая иная корреспонденция касательно работы Портала должны направляться по адресу электронной почты, указанному на главной странице Портала. 

8.3. Отношения Пользователя, Владельца и Администратора в рамках настоящего Соглашения регулируются законодательством Республики Казахстан. 

8.4. Бездействие со стороны Владельца и/или Администратора в случае нарушения Пользователем либо иными пользователями положений Соглашения не лишает их права предпринять соответствующие действия в защиту своих интересов позднее. 

8.5. В случае поступления претензий от третьих лиц, связанных с размещением и/или использованием материалов, Пользователь самостоятельно и за свой счет урегулирует указанные претензии.</textarea>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-2"></div>
            <div class="col-sm-3">
                <!-- <script>$(function(){
                    $('.btn-add-signature[data-file-identifier="sign"]')[0].afterGenSignEvent = function(){saveAgreement()};
            });</script> -->
            <div class="add_signature_block">
        <button type="button" class="btn btn-success btn-add-signature" data-url="" data-form-id="frm_agr_sign" data-file-identifier="sign" onclick="helpers.sign_workaround.form_sign_helper.sign_uploaded_file(this)">
        <span>
            Подписать        </span>
    </button>
</div>                <div id="frm_agr_res" style="display:none"></div>
            </div>
        </div>

        <!-- пароль -->
        <div class="form-group">
            <label class="col-sm-2 control-label">Задать пароль</label>

            <div class="col-sm-10">
                <input type="password" class="form-control" name="password" id="password" placeholder="Укажите пароль">
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label">Подтверждение пароля</label>

            <div class="col-sm-10">
                <input type="password" class="form-control" name="repassword" id="repassword" placeholder="Повторите пароль">
            </div>
        </div>
        <div id="form_ajax_alert" class="col-sm-10 col-sm-offset-2"></div>
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <button type="button" class="btn btn-success" onclick="user_button_ok()" id="btn_user_button_ok">
                    Подтверждаю данные                </button>
            </div>
        </div>
    </div>
    </form></div>
<script>
document.addEventListener("DOMContentLoaded", function() {
    const btnConfirm = document.getElementById("btn_user_button_ok");
    const emailInput = document.getElementById("email");
    const passInput = document.getElementById("password");
    const repassInput = document.getElementById("repassword");
    const alertBox = document.getElementById("form_ajax_alert");
    const signBtn = document.querySelector('.btn-add-signature[data-file-identifier="sign"]');
    const form = document.getElementById("frm_agr_sign");

    let isSigned = false; // Флаг — подписано ли ЭЦП

    // --- Вывод уведомлений ---
    function showAlert(message, type = "danger") {
        alertBox.innerHTML = `<div class="alert alert-${type}" style="margin-top:10px;">${message}</div>`;
    }

    // --- Проверка формы ---
    function validateForm() {
        const email = emailInput.value.trim();
        const pass = passInput.value.trim();
        const repass = repassInput.value.trim();

        if (!email) return showAlert("Введите адрес электронной почты.");
        if (!email.includes("@") || !email.includes(".")) return showAlert("Введите корректный адрес электронной почты.");
        if (!pass) return showAlert("Введите пароль.");
        if (pass.length < 6) return showAlert("Пароль должен содержать не менее 6 символов.");
        if (pass !== repass) return showAlert("Пароли не совпадают.");

        alertBox.innerHTML = "";
        return true;
    }

    // --- Эмуляция выбора файла и модалки ---
    const fileInput = document.createElement("input");
    const fileName = document.createElement("p");
    const fileSucces = document.createElement("p")

    fileInput.type = "file";
    fileInput.accept = ".txt";
    fileInput.style.display = "none";
    fileName.className = "text-muted";
    fileName.style.marginTop = "10px";
    fileSucces.textContent = "Подписанно"
    

    // вставляем рядом с кнопкой "Подписать"
    signBtn.insertAdjacentElement("afterend", fileInput);
    signBtn.insertAdjacentElement("afterend", fileName);

    // --- Создаём модальное окно ---
    const modalHTML = `
        <div id="passwordModal" class="modal" style="display:none;position:fixed;z-index:9999;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,0.4);">
            <div class="modal-dialog" style="max-width:400px;margin:10% auto;background:#fff;border-radius:8px;overflow:hidden;">
                <div class="modal-content">
                    <div class="modal-header" style="padding:10px 15px;border-bottom:1px solid #ddd;">
                        <b>Подтверждение пароля</b>
                        <span id="closeModal" style="float:right;cursor:pointer;">&times;</span>
                    </div>
                    <div class="modal-body text-center" style="padding:15px;">
                        <p>Введите пароль для доступа к ключу:</p>
                        <input type="password" id="keyPassword" class="form-control" placeholder="Пароль">
                    </div>
                    <div class="modal-footer text-center" style="padding:10px 15px;border-top:1px solid #ddd;">
                        <button id="confirmBtn" class="btn btn-success">Подтвердить</button>
                    </div>
                </div>
            </div>
        </div>`;
    document.body.insertAdjacentHTML("beforeend", modalHTML);

    const passwordModal = document.getElementById("passwordModal");
    const closeModal = document.getElementById("closeModal");
    const confirmBtn = document.getElementById("confirmBtn");
    const keyPassword = document.getElementById("keyPassword");

    // --- Нажатие на кнопку "Подписать" ---
    signBtn.addEventListener("click", () => {
        fileInput.click();
    });

    // --- Когда выбран файл ---
    fileInput.addEventListener("change", function() {
        if (fileInput.files.length > 0) {
            const file = fileInput.files[0];
            if (!file.name.endsWith(".txt")) {
                alert("Пожалуйста, выберите файл с расширением .txt");
                fileInput.value = "";
                return;
            }

            fileName.textContent = "Выбран файл: " + file.name;
            showModal();
        }
    });

    // --- Показ и скрытие модалки ---
    function showModal() {
        passwordModal.style.display = "block";
    }

    closeModal.addEventListener("click", () => {
        passwordModal.style.display = "none";
        keyPassword.value = "";
    });

    window.addEventListener("click", (e) => {
        if (e.target === passwordModal) {
            passwordModal.style.display = "none";
        }
    });

    // --- Подтверждение пароля ---
    confirmBtn.addEventListener("click", () => {
        const pass = keyPassword.value.trim();
        if (pass != "Aa12345!") {
            alert("Введите пароль для ключа.");
            return;
        }

        passwordModal.style.display = "none";
        keyPassword.value = "";
        isSigned = true; // ставим флаг, что ЭЦП подписана
        signBtn.insertAdjacentElement("afterend", fileSucces)
    });

    function saveData(){
        const email = emailInput.value.trim();
        const password = passInput.value.trim();
        const USER_DATA = {
            "email": email,
            "password": password
        }
        
        localStorage.setItem("userData", JSON.stringify(USER_DATA))
        localStorage.setItem("userMember", "false")
        localStorage.setItem("userSchet", "false")
        localStorage.setItem("userCard", "false")
    }

    // --- Обработка кнопки "Подтверждаю данные" ---
    btnConfirm.addEventListener("click", function() {
        if (!isSigned) {
            showAlert("Перед подтверждением необходимо подписать ЭЦП.", "warning");
            signBtn.scrollIntoView({ behavior: "smooth", block: "center" });
            return;
        }

        if (!validateForm()) return;
        saveData()
        window.location.href ="../profile.html"
    });
});
</script>


<script>
    function saveAgreement() {
        var msg = '<h4><span class="glyphicon glyphicon-ok" style="color:green"> <b>Подписано</b> </span></h4>';
        $('#frm_agr_res').show();
        $('#frm_agr_res').html(msg);
        $("button.btn-add-signature[data-file-identifier='sign']").hide();
    }
</script>
</div>

</div>
</div>
        <div class="clearfix"></div>
        
            </div>
    <!-- END CONTAINER -->

</div>
<!-- END WRAP -->



<!-- BEGIN FOOTER -->
<footer class="footer">
    <div class="container">
        <p class="pull-left">
            АИИС ЭГЗ © 2025 | <a href="">Министерство финансов Республики Казахстан</a>
        </p>
        <p class="pull-right">
            <span class="ecc">
                <a href="">АО «Центр электронных финансов»</a>
            </span>
        </p>
    </div>
    <p class="text-center text-muted">
        Техническая поддержка пользователей портала (7/7 с 09:00 до 21:00): 8(7172) 73 55 15, +7 705 956 53 88 (в соответствие с тарифами оператора связи), <a href="mailto:support@ecc.kz">support@ecc.kz</a>    </p>
</footer>
<!-- END FOOTER -->
</body>
</html>